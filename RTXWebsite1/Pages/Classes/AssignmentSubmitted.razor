@page "/assignmentsubmitted/{FileData}"





@using RTXWebsite1.Models;

@inject Blazored.LocalStorage.ILocalStorageService localStorage;
@inject IJSRuntime JsRuntime;
@inject IConfiguration _config;
@inject NavigationManager NavManager;
@inject RTXWebsite1.Data.Cookies Cookie;

@using RTXWebsite1.IDbContext
@using Microsoft.Extensions.Configuration
@inject IDatabaseAccess _data







<h1 div class="title-head"> Assignment Submission Page </h1>
<br />




<p>You have successfully submitted your assignment</p>

@code {
       
    
    List<PlayerInformation>? player;



    string sqlString = "";


    [Parameter]
    public string FileData { get; set; }






     private async Task GetData()
     {
        await OnInitializedAsync();
     }


    protected override async Task OnInitializedAsync()
    {

        sqlString = "UPDATE `RTX`.`Assignment` SET `Assignment_Upload` = @Data WHERE (`Assignment_PlayerID` = @ThisPlayer)";
        player = await _data.LoadData<PlayerInformation, dynamic>(sqlString, new { Data = FileData, ThisPlayer = Cookie.PlayerID }, _config.GetConnectionString("RTX"));
    }

}
